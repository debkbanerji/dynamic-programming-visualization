<div class="row no-gutter" id="main-container">
    <div id="editor-container" class="col-xs-12 col-md-5">
        <mat-card>
            <mat-card-header>
            </mat-card-header>
            <mat-card-content>
                <mat-form-field class="full-width">
                    <mat-select [(ngModel)]="tableSize">
                        <mat-option value="1d">1 Dimensional Table</mat-option>
                        <mat-option value="2d">2 Dimensional Table</mat-option>
                    </mat-select>
                </mat-form-field>
            </mat-card-content>
        </mat-card>
    </div>
    <div id="input-and-table-container" class="col-xs-12 col-md-7" *ngIf="problemDefined">
        <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    <b>{{problem['name']}}</b>
                </mat-panel-title>
                <!--<mat-panel-description>-->
                <!--{{problem['name']}}-->
                <!--</mat-panel-description>-->
            </mat-expansion-panel-header>
            <div [innerHTML]="problem['problem-statement']"></div>
        </mat-expansion-panel>
        <mat-card>
            <mat-card-content>
                <mat-tab-group id="test-case-group">
                    <!--<mat-tab label="Custom test case">-->
                    <!--&lt;!&ndash;TODO: Implement custom input&ndash;&gt;-->
                    <!--</mat-tab>-->
                    <mat-tab *ngFor="let testCase of testCases" label="{{testCase['name']}}">
                        <mat-expansion-panel [expanded]="true">
                            <mat-expansion-panel-header>
                                <mat-panel-title class="slightly-bold-label">Input Values</mat-panel-title>
                            </mat-expansion-panel-header>
                            <div *ngFor="let input of objectKeys(problem['input'])">
                                <span class="slightly-bold-label">{{input}}:</span>
                                <span *ngIf="problem['input'][input]['type'] !== 'array'">
                                    {{getDisplayedValue(testCase['input'][input], problem['input'][input]['type'])}}
                                </span>
                                <div *ngIf="problem['input'][input]['type'] === 'array'">
                                    <table class="dp-table" *ngIf="problem['input'][input]['dimensions'] === '1d'">
                                        <tr class="dp-tr">
                                            <td class="dp-td" *ngFor="let i of range(testCase['input'][input].length);">
                                            <span class="dp-table-cell">
                                                {{getDisplayedValue(testCase['input'][input][i], problem['input'][input]['entry-type'])}}
                                            </span>
                                            </td>
                                        </tr>
                                    </table>
                                    <table class="dp-table" *ngIf="problem['input'][input]['dimensions'] === '2d'">
                                        <tr class="dp-tr" *ngFor="let i of range(testCase['input'][input].length);">
                                            <td class="dp-td"
                                                *ngFor="let j of range(testCase['input'][input][0].length);">
                                            <span class="dp-table-cell">
                                                {{getDisplayedValue(testCase['input'][input][i][j], problem['input'][input]['entry-type'])}}
                                            </span>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </mat-expansion-panel>
                        <mat-expansion-panel>
                            <mat-expansion-panel-header>
                                <mat-panel-title class="slightly-bold-label">Expected Results</mat-panel-title>
                            </mat-expansion-panel-header>
                            <span class="slightly-bold-label">Table</span>
                            <button mat-button class="transpose-button" *ngIf="solution['table-size'] === '2d'"
                                    (click)="transposeTable()">
                                Transpose
                            </button>
                            <table class="dp-table" *ngIf="solution['table-size'] === '2d' && !transpose2dTable">
                                <tr class="dp-tr" *ngFor="let i of range(testCase['expected-table'].length);">
                                    <td class="dp-td" *ngFor="let j of range(testCase['expected-table'][0].length);">
                                    <span class="dp-table-cell">
                                        {{getDisplayedValue(testCase['expected-table'][i][j], solution['table-data-type'])}}
                                    </span>
                                    </td>
                                </tr>
                            </table>
                            <table class="dp-table" *ngIf="solution['table-size'] === '2d' && transpose2dTable">
                                <tr class="dp-tr" *ngFor="let i of range(testCase['expected-table'][0].length);">
                                    <td class="dp-td" *ngFor="let j of range(testCase['expected-table'].length);">
                                    <span class="dp-table-cell">
                                        {{getDisplayedValue(testCase['expected-table'][j][i], solution['table-data-type'])}}
                                    </span>
                                    </td>
                                </tr>
                            </table>
                            <table class="dp-table" *ngIf="solution['table-size'] === '1d'">
                                <tr class="dp-tr">
                                    <td class="dp-td" *ngFor="let i of range(testCase['expected-table'].length);">
                                    <span class="dp-table-cell">
                                        {{getDisplayedValue(testCase['expected-table'][i], solution['table-data-type'])}}
                                    </span>
                                    </td>
                                </tr>
                            </table>
                        </mat-expansion-panel>
                    </mat-tab>
                </mat-tab-group>
            </mat-card-content>
        </mat-card>
    </div>
</div>
